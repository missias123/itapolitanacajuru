<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Sorveteria Itapolitana em Cajuru, Santa Cruz da Esperan√ßa e C√°ssia dos Coqueiros. Sorvetes artesanais, picol√©s e a√ßa√≠ desde 2007.">
<meta name="theme-color" content="#1565C0">
<title>Sorveteria Itapolitana ‚Äì Cajuru/SP</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px;-webkit-text-size-adjust:100%}
body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;background-color:#FFF8F0;color:#1A0A00;line-height:1.5;min-height:100vh;position:relative}
body::before{content:'';position:fixed;inset:0;background-image:url('images/logo.png');background-repeat:repeat;background-size:110px 110px;opacity:0.35;pointer-events:none;z-index:0}
body>*{position:relative;z-index:1}
a{text-decoration:none;color:inherit}
button{font-family:inherit;cursor:pointer;border:none}
img{max-width:100%;display:block}

/* ADMIN BAR */
.admin-bar{background:#2D0A0A;text-align:center;padding:5px 12px}
.admin-bar a{color:#FF6B35;font-weight:700;font-size:11px;letter-spacing:.5px;text-transform:uppercase}
.admin-bar a:hover{color:#F9FAFB}

/* HEADER */
.header{background:linear-gradient(135deg,#FFFDF9,#FFF3E0);border-bottom:2px solid #FF6B35;padding:12px 16px;position:sticky;top:0;z-index:100;box-shadow:0 2px 12px rgba(255,107,53,.18);isolation:isolate}
.header-inner{max-width:960px;margin:0 auto;display:flex;flex-direction:column;gap:10px}
.brand{display:flex;align-items:center;gap:10px}
.brand-icon{width:52px;height:52px;border-radius:50%;overflow:hidden;flex-shrink:0;border:2px solid #E5E7EB;background:#fff}.brand-icon img{width:100%;height:100%;object-fit:cover}
.brand-name{font-size:15px;font-weight:900;color:#E8000D;line-height:1.2;text-shadow:0 0 10px rgba(232,0,13,.6),0 0 20px rgba(255,80,0,.4)}
.brand-sub{font-size:11px;color:#7B2D8B;font-weight:700}
.header-nav{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;width:100%}
.nav-btn{display:flex;align-items:center;justify-content:center;gap:5px;padding:10px 6px;border-radius:10px;font-size:12px;font-weight:700;min-height:44px;transition:opacity .15s,transform .1s;white-space:nowrap;width:100%;text-align:center}
.nav-btn:active{transform:scale(.97);opacity:.9}
.nav-purple{background:linear-gradient(135deg,#1A73E8,#0D47A1);color:#fff;box-shadow:0 2px 8px rgba(26,115,232,.4)}
.nav-orange{background:linear-gradient(135deg,#FF3D00,#BF360C);color:#fff;box-shadow:0 2px 8px rgba(255,61,0,.4)}
.nav-green{background:linear-gradient(135deg,#00C853,#1B5E20);color:#fff;box-shadow:0 2px 8px rgba(0,200,83,.4)}
.nav-yellow{background:linear-gradient(135deg,#FFB300,#E65100);color:#fff;box-shadow:0 2px 8px rgba(255,179,0,.4)}

/* FAIXA REGIONAL */
.regional{background:linear-gradient(135deg,#FF6B35,#E8000D,#7B2D8B);color:#fff;text-align:center;padding:8px 16px;font-size:12px;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.3)}

/* HERO */
.hero{background:linear-gradient(160deg,#FFFDF9 0%,#FFF3E0 50%,#FCE4EC 100%);padding:24px 16px;text-align:center;border-bottom:2px solid #FF6B35;isolation:isolate}
.hero h2{font-size:20px;font-weight:900;margin-bottom:8px;line-height:1.3}
.hero p{font-size:14px;color:#7B2D8B;font-weight:700;max-width:480px;margin:0 auto 16px}
.hero-cta{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,#FF6B35,#E8000D);color:#fff;padding:13px 28px;border-radius:50px;font-size:15px;font-weight:800;box-shadow:0 4px 20px rgba(232,0,13,.45)}

/* INFO CARDS */
.info-cards{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:16px;max-width:960px;margin:0 auto}
.info-card{background:linear-gradient(135deg,#FFFDF9,#FFF8F0);border-radius:14px;padding:14px;box-shadow:0 0 0 2px #FF6B35,0 4px 12px rgba(255,107,53,.15);isolation:isolate}
.info-icon{font-size:22px;margin-bottom:6px}
.info-title{font-size:12px;font-weight:700;color:#1A0A00;margin-bottom:3px}
.info-text{font-size:11px;color:#7B2D8B;font-weight:700;line-height:1.4}

/* CARD√ÅPIO */
.cardapio{max-width:960px;margin:0 auto;padding:16px}
.cardapio-h{font-size:22px;font-weight:900;text-align:center;margin-bottom:16px}

/* ACCORDION */
.acc{border-radius:16px;overflow:hidden;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.12);isolation:isolate}
.acc-header{display:flex;align-items:center;justify-content:space-between;padding:18px 20px;cursor:pointer;user-select:none;min-height:64px;transition:filter .15s}
.acc-header:hover{filter:brightness(1.08)}
.acc-left{display:flex;align-items:center;gap:12px}
.acc-icon{font-size:28px;flex-shrink:0;background:rgba(255,255,255,.25);border-radius:50%;width:44px;height:44px;display:flex;align-items:center;justify-content:center}
.acc-title{font-size:16px;font-weight:900;color:#fff}
.acc-sub{font-size:12px;color:rgba(255,255,255,.85);font-weight:600;margin-top:2px}
.acc-arrow{font-size:14px;color:#fff;font-weight:900;transition:transform .3s;flex-shrink:0}
.acc.open .acc-arrow{transform:rotate(180deg)}
.acc-body{display:none;padding:16px;background:#fff;border:2px solid transparent}
.acc.open .acc-body{display:block}
/* Cores por categoria */
#acc-sorvetes>.acc-header{background:linear-gradient(135deg,#6A0DAD,#AB47BC)}
#acc-sorvetes>.acc-body{border-color:#CE93D8}
#acc-picoles>.acc-header{background:linear-gradient(135deg,#FF6B35,#E65100)}
#acc-picoles>.acc-body{border-color:#FFCC80}
#acc-acai-promo>.acc-header{background:linear-gradient(135deg,#C62828,#FF1744)}
#acc-acai-promo>.acc-body{border-color:#F48FB1}
#acc-acai>.acc-header{background:linear-gradient(135deg,#880E4F,#E91E63)}
#acc-acai>.acc-body{border-color:#EF9A9A}
#acc-milk>.acc-header{background:linear-gradient(135deg,#0288D1,#00BCD4)}
#acc-milk>.acc-body{border-color:#81D4FA}
#acc-tacas>.acc-header{background:linear-gradient(135deg,#D81B60,#F06292)}
#acc-tacas>.acc-body{border-color:#F48FB1}
#acc-tacas-p>.acc-header{background:linear-gradient(135deg,#E65100,#FFB300)}
#acc-tacas-p>.acc-body{border-color:#FFCC02}
#acc-torta>.acc-header{background:linear-gradient(135deg,#1B5E20,#43A047)}
#acc-torta>.acc-body{border-color:#A5D6A7}
#acc-iso>.acc-header{background:linear-gradient(135deg,#006064,#00BCD4)}
#acc-iso>.acc-body{border-color:#80DEEA}
#acc-sobremesas>.acc-header{background:linear-gradient(135deg,#4A148C,#9C27B0)}
#acc-sobremesas>.acc-body{border-color:#CE93D8}

/* GRID PRODUTOS (visualiza√ß√£o) */
.prod-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
.prod-card{background:linear-gradient(135deg,#FFFDF9,#FFF8F0);border-radius:14px;padding:14px 12px;text-align:center;box-shadow:0 0 0 2px #FF6B35,0 4px 12px rgba(255,107,53,.12);isolation:isolate}
.prod-nome{font-size:13px;font-weight:700;color:#1A0A00;margin-bottom:4px}
.prod-desc{font-size:11px;color:#7B2D8B;font-weight:700;margin-bottom:8px;line-height:1.4}
.prod-preco{font-size:17px;font-weight:900;color:#E8000D}
.prod-esgotado{font-size:11px;color:#EF4444;font-weight:700;margin-top:4px}

/* BOT√ïES VER SABORES / COMPLEMENTOS */
.btn-sabores{display:inline-flex;align-items:center;gap:5px;margin-top:10px;padding:9px 18px;background:linear-gradient(135deg,#FF6B35,#E8000D);color:#fff;border:none;border-radius:10px;font-size:13px;font-weight:700;transition:all .15s;box-shadow:0 2px 8px rgba(232,0,13,.3)}
.btn-sabores:hover{background:linear-gradient(135deg,#E8000D,#C62828);transform:translateY(-1px);box-shadow:0 4px 12px rgba(232,0,13,.4)}
.btn-comp{display:inline-flex;align-items:center;gap:5px;margin-top:10px;padding:9px 18px;background:linear-gradient(135deg,#FF8F00,#E65100);color:#fff;border:none;border-radius:10px;font-size:13px;font-weight:700;transition:all .15s;box-shadow:0 2px 8px rgba(230,81,0,.3)}
.btn-comp:hover{background:linear-gradient(135deg,#E65100,#BF360C);transform:translateY(-1px)}

/* A√áA√ç CARD */
.acai-item{background:linear-gradient(135deg,#FFFDF9,#F8F0FF);border-radius:14px;padding:14px;margin-bottom:10px;box-shadow:0 0 0 2px #7B2D8B,0 4px 12px rgba(123,45,139,.12)}
.acai-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.acai-nome{font-size:14px;font-weight:700}
.acai-preco{font-size:18px;font-weight:900;color:#E8000D}
.acai-desc{font-size:12px;color:#7B2D8B;font-weight:700;margin-bottom:8px}

/* PICOL√â ITEM */
.picole-item{background:linear-gradient(135deg,#FFFDF9,#FFF3E0);border-radius:14px;padding:14px;margin-bottom:10px;box-shadow:0 0 0 2px #FF6B35,0 4px 12px rgba(255,107,53,.12)}
.picole-row{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.picole-nome{font-size:14px;font-weight:700}
.picole-preco{font-size:16px;font-weight:900;color:#E8000D}

/* MODAL BOTTOM SHEET */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:500;align-items:flex-end;justify-content:center}
.modal-overlay.show{display:flex}
.modal-box{background:linear-gradient(160deg,#FFFDF9,#FFF8F0);border-radius:24px 24px 0 0;width:100%;max-width:600px;max-height:82vh;overflow-y:auto;padding:20px 16px 32px;position:relative;border-top:3px solid #FF6B35}
.modal-handle{width:40px;height:4px;background:#E5E7EB;border-radius:2px;margin:0 auto 16px}
.modal-close{position:absolute;top:16px;right:16px;background:#F3F4F6;border:none;border-radius:50%;width:36px;height:36px;font-size:18px;font-weight:700;color:#374151;display:flex;align-items:center;justify-content:center}
.modal-title{font-size:18px;font-weight:900;margin-bottom:4px}
.modal-sub{font-size:13px;color:#7B2D8B;font-weight:700;margin-bottom:16px}
.chips{display:flex;flex-wrap:wrap;gap:8px}
.chip-sabor{background:linear-gradient(135deg,#FFF3E0,#FFE0B2);color:#BF360C;border:1px solid #FFAB40;border-radius:20px;padding:6px 14px;font-size:13px;font-weight:700}
.chip-comp{background:linear-gradient(135deg,#F8F0FF,#EDE7F6);color:#6A1B9A;border:1px solid #CE93D8;border-radius:20px;padding:5px 12px;font-size:12px;font-weight:700}
.comp-group{margin-bottom:16px}
.comp-group-h{font-size:13px;font-weight:800;color:#1A0A00;margin-bottom:8px;display:flex;align-items:center;justify-content:space-between}
.comp-preco{font-size:12px;color:#E8000D;font-weight:700}

/* PROMO√á√ÉO MODAL */
.promo-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.7);z-index:600;align-items:center;justify-content:center;padding:16px}
.promo-overlay.show{display:flex}
.promo-box{background:linear-gradient(135deg,#FF6B35,#E8000D,#7B2D8B);border-radius:20px;padding:28px 24px;max-width:380px;width:100%;color:#fff;text-align:center;position:relative;box-shadow:0 8px 32px rgba(232,0,13,.4)}
.promo-close{position:absolute;top:12px;right:12px;background:rgba(255,255,255,.2);border:none;border-radius:50%;width:32px;height:32px;color:#fff;font-size:16px;font-weight:700;display:flex;align-items:center;justify-content:center}
.promo-icon{font-size:48px;margin-bottom:12px}
.promo-title{font-size:22px;font-weight:900;margin-bottom:8px}
.promo-desc{font-size:14px;opacity:.9;margin-bottom:20px;line-height:1.5}
.promo-timer-box{background:rgba(0,0,0,.2);border-radius:12px;padding:12px;margin-bottom:20px}
.promo-timer-lbl{font-size:11px;opacity:.8;margin-bottom:6px}
.promo-timer-val{font-size:28px;font-weight:900;letter-spacing:2px}
.promo-btn{background:linear-gradient(135deg,#FFD600,#FF8F00);color:#1A0A00;border:none;border-radius:12px;padding:13px 28px;font-size:15px;font-weight:800;width:100%;box-shadow:0 4px 12px rgba(255,214,0,.5)}

/* CHATBOT */
.chat-fab{position:fixed;top:80px;right:12px;background:linear-gradient(135deg,#FF6B35,#E8000D);color:#fff;border:none;border-radius:50px;padding:10px 18px;font-size:13px;font-weight:800;z-index:300;box-shadow:0 4px 20px rgba(232,0,13,.5);display:flex;align-items:center;gap:6px;white-space:nowrap;letter-spacing:.3px}
.chat-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:700;align-items:flex-end;justify-content:center}
.chat-overlay.show{display:flex}
.chat-box{background:#fff;border-radius:24px 24px 0 0;width:100%;max-width:500px;height:72vh;display:flex;flex-direction:column}
.chat-hdr{background:linear-gradient(135deg,#FF6B35,#E8000D,#7B2D8B);color:#fff;padding:16px 20px;border-radius:24px 24px 0 0;display:flex;align-items:center;justify-content:space-between}
.chat-hdr h3{font-size:16px;font-weight:800}
.chat-hdr p{font-size:11px;opacity:.8}
.chat-close{background:rgba(255,255,255,.2);border:none;border-radius:50%;width:32px;height:32px;color:#fff;font-size:16px;font-weight:700;display:flex;align-items:center;justify-content:center}
.chat-msgs{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:10px}
.msg{max-width:80%;padding:10px 14px;border-radius:16px;font-size:13px;line-height:1.5}
.msg.bot{background:#F3F4F6;color:#111827;align-self:flex-start;border-bottom-left-radius:4px}
.msg.user{background:linear-gradient(135deg,#FF6B35,#E8000D);color:#fff;align-self:flex-end;border-bottom-right-radius:4px}
.chat-typing{background:#FFF3E0;color:#7B2D8B;font-weight:700;align-self:flex-start;padding:10px 14px;border-radius:16px;font-size:13px;display:none}
.chat-typing.show{display:block}
.chat-sugs{padding:8px 16px;display:flex;gap:8px;overflow-x:auto;border-top:1px solid #F3F4F6;scrollbar-width:none}
.chat-sugs::-webkit-scrollbar{display:none}
.sug{background:linear-gradient(135deg,#FFF3E0,#FFE0B2);color:#BF360C;border:1px solid #FFAB40;border-radius:20px;padding:6px 14px;font-size:12px;font-weight:700;white-space:nowrap;cursor:pointer;flex-shrink:0}
.chat-inp-row{padding:12px 16px;display:flex;gap:8px;border-top:1px solid #F3F4F6}
.chat-inp{flex:1;padding:10px 14px;border:1px solid #E5E7EB;border-radius:50px;font-size:14px;font-family:inherit;outline:none}
.chat-inp:focus{border-color:#FF6B35;box-shadow:0 0 0 2px rgba(255,107,53,.2)}
.chat-send{background:linear-gradient(135deg,#FF6B35,#E8000D);color:#fff;border:none;border-radius:50%;width:40px;height:40px;font-size:16px;display:flex;align-items:center;justify-content:center;flex-shrink:0}

/* PWA BANNER */
.pwa-banner{display:none;position:fixed;bottom:16px;left:16px;right:16px;max-width:420px;margin:0 auto;background:linear-gradient(135deg,#1565C0,#D32F2F);color:#fff;border-radius:16px;padding:16px;z-index:400;box-shadow:0 8px 32px rgba(21,101,192,.4);align-items:center;gap:12px}
.pwa-banner.show{display:flex}
.pwa-banner{background:linear-gradient(135deg,#FF6B35,#E8000D,#7B2D8B)}
.pwa-icon{font-size:32px;flex-shrink:0}
.pwa-text h4{font-size:14px;font-weight:800;margin-bottom:3px}
.pwa-text p{font-size:12px;opacity:.9}
.pwa-btns{display:flex;flex-direction:column;gap:6px;flex-shrink:0}
.pwa-install{background:#F9A825;color:#111;border:none;border-radius:8px;padding:8px 14px;font-size:12px;font-weight:800}
.pwa-dismiss{background:rgba(255,255,255,.2);border:none;border-radius:8px;padding:6px 14px;font-size:11px;color:#fff;font-weight:600}

/* RODAP√â */
.footer{background:linear-gradient(135deg,#2D0A0A,#5C0A5C,#7B2D8B);color:#FFFFFF;padding:32px 16px;margin-top:24px;text-align:center}
.footer h3{color:#FFFFFF;font-size:16px;margin-bottom:16px;text-shadow:0 1px 4px rgba(0,0,0,.3)}
.footer p{font-size:13px;margin-bottom:8px;line-height:1.6}
.footer-copy{margin-top:24px;padding-top:16px;border-top:1px solid rgba(255,255,255,.25);font-size:12px;color:#F3E5F5}
.btn-admin-footer{display:inline-block;margin-top:16px;padding:8px 16px;background:rgba(255,255,255,.15);color:#FFFFFF;border-radius:8px;font-size:11px;font-weight:600;border:1px solid rgba(255,255,255,.3)}

/* DESKTOP */
@media(min-width:600px){
  .header-inner{flex-direction:row;align-items:center;justify-content:space-between}
  .header-nav{grid-template-columns:repeat(3,auto);gap:8px}
  .nav-btn{padding:10px 16px;font-size:13px}
  .info-cards{grid-template-columns:repeat(4,1fr)}
  .prod-grid{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}
}
</style>
</head>
<body>

<!-- BARRA ADMIN DISCRETA -->
<div class="admin-bar">
  <a href="gerenciar/index.html">‚öôÔ∏è Painel Administrativo</a>
</div>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <div class="brand">
      <div class="brand-icon"><img src="images/logo.png" alt="Logo Itapolitana"></div>
      <div>
        <div class="brand-name">ITAPOLITANA CAJURU</div>
        <div class="brand-sub">A√ßaiteria &amp; Sorveteria ¬∑ Desde 2007</div>
      </div>
    </div>
    <nav class="header-nav">
      <a href="encomendas.html" class="nav-btn nav-purple">üõí Encomendas</a>
      <button class="nav-btn nav-orange" onclick="abrirPromo()">üéâ Promo√ß√£o</button>
      <a href="https://www.google.com/maps/place/Sorveteria+A%C3%A7aiteria+Itapolitana+Cajuru/@-21.2776766,-47.3071817" target="_blank" class="nav-btn nav-yellow">‚≠ê Avalie</a>
    </nav>
  </div>
</header>

<!-- FAIXA REGIONAL -->
<div class="regional">
  üìç Atendemos Cajuru ¬∑ Santa Cruz da Esperan√ßa ¬∑ C√°ssia dos Coqueiros
</div>

<!-- HERO -->
<section class="hero">
  <h2>O Sorvete Mais Amado de Cajuru e Regi√£o</h2>
  <p>Produ√ß√£o pr√≥pria com ingredientes selecionados. Sorvetes artesanais, picol√©s recheados e a√ßa√≠ premium desde 2007.</p>
  <button class="hero-cta" onclick="document.getElementById('cardapio').scrollIntoView({behavior:'smooth'})">
    üç¶ Ver Card√°pio Completo
  </button>
</section>

<!-- INFO CARDS -->
<div class="info-cards">
  <a href="https://www.google.com/maps/place/Sorveteria+A%C3%A7aiteria+Itapolitana+Cajuru/@-21.2776766,-47.3071817" target="_blank" class="info-card" style="text-decoration:none;color:inherit;display:block"><div class="info-icon">üìç</div><div class="info-title">Localiza√ß√£o</div><div class="info-text" style="color:#4285F4;font-weight:700">P√ßa Lgo S√£o Bento, 311 ‚Äì Cajuru/SP üó∫Ô∏è</div></a>
  <div class="info-card"><div class="info-icon">‚è∞</div><div class="info-title">Hor√°rio</div><div class="info-text">Seg‚ÄìDom: 10h √†s 22h</div></div>
  <div class="info-card"><div class="info-icon">üè™</div><div class="info-title">Retirada</div><div class="info-text">Somente na loja</div></div>
  <div class="info-card"><div class="info-icon">üì±</div><div class="info-title">Contato</div><div class="info-text">(16) 99147-2045</div></div>
</div>

<!-- CARD√ÅPIO -->
<section id="cardapio" class="cardapio">
  <h2 class="cardapio-h">Nosso Card√°pio</h2>

  <!-- SORVETES -->
  <div class="acc" id="acc-sorvetes">
    <div class="acc-header" onclick="toggleAcc('acc-sorvetes')">
      <div class="acc-left">
        <span class="acc-icon">üç¶</span>
        <div><div class="acc-title">Sorvetes de Massa</div><div class="acc-sub">Casquinha, copo, casc√£o, cestinha ¬∑ 36 sabores</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body">
      <div id="sorvetes-grid" class="prod-grid"></div>
      <div style="text-align:center;margin-top:14px">
        <button class="btn-sabores" onclick="abrirSabores('sorvetes','üç¶ 36 Sabores de Sorvete')">üç® Ver os 36 Sabores</button>
      </div>
    </div>
  </div>

  <!-- MILKSHAKES -->
  <div class="acc" id="acc-milk">
    <div class="acc-header" onclick="toggleAcc('acc-milk')">
      <div class="acc-left">
        <span class="acc-icon">ü•§</span>
        <div><div class="acc-title">Milkshakes</div><div class="acc-sub">Tradicional e Top ¬∑ V√°rios tamanhos ¬∑ 36 sabores</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body">
      <div id="milk-grid" class="prod-grid"></div>
      <div style="text-align:center;margin-top:14px">
        <button class="btn-sabores" onclick="abrirSabores('sorvetes','ü•§ Sabores para Milkshake')">üç® Ver os 36 Sabores</button>
      </div>
    </div>
  </div>

  <!-- TA√áAS -->
  <div class="acc" id="acc-tacas">
    <div class="acc-header" onclick="toggleAcc('acc-tacas')">
      <div class="acc-left">
        <span class="acc-icon">üç®</span>
        <div><div class="acc-title">Ta√ßas</div><div class="acc-sub">8 op√ß√µes ¬∑ Colegial, Sundae, Banana Split e mais ¬∑ 36 sabores</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body">
      <div id="tacas-grid" class="prod-grid"></div>
      <div style="text-align:center;margin-top:14px">
        <button class="btn-sabores" onclick="abrirSabores('sorvetes','üç® Sabores para Ta√ßas')">üç® Ver os 36 Sabores</button>
      </div>
    </div>
  </div>

  <!-- TA√áAS PREMIUM -->
  <div class="acc" id="acc-tacas-p">
    <div class="acc-header" onclick="toggleAcc('acc-tacas-p')">
      <div class="acc-left">
        <span class="acc-icon">üèÜ</span>
        <div><div class="acc-title">Ta√ßas Premium (Ta√ßas Sujas)</div><div class="acc-sub">7 op√ß√µes ¬∑ Prest√≠gio, Kit Kat, Unic√≥rnio e mais ¬∑ 36 sabores</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body">
      <div id="tacas-p-grid" class="prod-grid"></div>
      <div style="text-align:center;margin-top:14px">
        <button class="btn-sabores" onclick="abrirSabores('sorvetes','üèÜ Sabores para Ta√ßas Premium')">üç® Ver os 36 Sabores</button>
      </div>
    </div>
  </div>

  <!-- A√áA√ç PROMO√á√ÉO -->
  <div class="acc" id="acc-acai-promo">
    <div class="acc-header" onclick="toggleAcc('acc-acai-promo')">
      <div class="acc-left">
        <span class="acc-icon">üõñ</span>
        <div><div class="acc-title">A√ßa√≠ Promo√ß√£o</div><div class="acc-sub">8 combos especiais ¬∑ 400ml a 700ml</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body" id="acai-promo-body"></div>
  </div>
  <!-- A√áA√ç -->
  <div class="acc" id="acc-acai">
    <div class="acc-header" onclick="toggleAcc('acc-acai')">
      <div class="acc-left">
        <span class="acc-icon">ü´ê</span>
        <div><div class="acc-title">A√ßa√≠ Artesanal</div><div class="acc-sub">Monte o seu ¬∑ 300ml a 600ml ¬∑ Ingredientes extras</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body" id="acai-body"></div>
  </div>

  <!-- PICOL√âS -->
  <div class="acc" id="acc-picoles">
    <div class="acc-header" onclick="toggleAcc('acc-picoles')">
      <div class="acc-left">
        <span class="acc-icon">üç≠</span>
        <div><div class="acc-title">Picol√©s</div><div class="acc-sub">5 tipos ¬∑ Fruta, Leite, Recheado, Ninho, Eskimo</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body" id="picoles-body"></div>
  </div>

  <!-- TORTA DE SORVETE -->
  <div class="acc" id="acc-torta">
    <div class="acc-header" onclick="toggleAcc('acc-torta')">
      <div class="acc-left">
        <span class="acc-icon">üéÇ</span>
        <div><div class="acc-title">Torta de Sorvete</div><div class="acc-sub">Encomende com 3 dias de anteced√™ncia ¬∑ 36 sabores</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body">
      <div class="prod-card" style="max-width:280px">
        <div class="prod-nome">üéÇ Torta de Sorvete</div>
        <div class="prod-desc">Feita com 3 sabores √† sua escolha. Perfeita para festas e comemora√ß√µes.</div>
        <div class="prod-preco" id="torta-preco">R$ 100,00</div>
      </div>
      <div style="margin-top:12px">
        <button class="btn-sabores" onclick="abrirSabores('sorvetes','üéÇ Sabores para Torta de Sorvete')">üç® Ver os 36 Sabores</button>
        <a href="encomendas.html" class="btn-comp" style="margin-left:8px">üõí Encomendar</a>
      </div>
    </div>
  </div>

  <!-- ISOPORES DE VIAGEM -->
  <div class="acc" id="acc-iso">
    <div class="acc-header" onclick="toggleAcc('acc-iso')">
      <div class="acc-left">
        <span class="acc-icon">üßä</span>
        <div><div class="acc-title">Isopores de Viagem</div><div class="acc-sub">4 tamanhos ¬∑ Leve sorvete para casa</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body" id="iso-body"></div>
  </div>
  <!-- SOBREMESAS GELADAS -->
  <div class="acc" id="acc-sobremesas">
    <div class="acc-header" onclick="toggleAcc('acc-sobremesas')">
      <div class="acc-left">
        <span class="acc-icon">üç®</span>
        <div><div class="acc-title">Sobremesas Geladas</div><div class="acc-sub">Fundue, Petit Gateau, Sorvete Diet e mais</div></div>
      </div>
      <span class="acc-arrow">‚ñº</span>
    </div>
    <div class="acc-body" id="sobremesas-body"></div>
  </div>
</section>
<!-- RODAP√â -->
<footer class="footer">
  <h3>üìç Onde Estamos</h3>
  <p>P√ßa Lgo S√£o Bento, 311 ‚Äì Centro, Cajuru/SP</p>
  <p>üìû (16) 99147-2045</p>
  <p>‚è∞ Segunda a Domingo: 10h √†s 22h</p>
  <p style="margin-top:12px;font-size:12px;color:#EF4444;font-weight:600">üö´ N√£o fazemos delivery ¬∑ Retirada somente na loja</p>

  <a href="gerenciar/index.html" class="btn-admin-footer">‚öôÔ∏è Painel Administrativo</a>
  <div class="footer-copy">¬© 2007‚Äì2026 Sorveteria Itapolitana ¬∑ Todos os direitos reservados</div>
</footer>

<!-- MODAL SABORES -->
<div class="modal-overlay" id="modal-sabores">
  <div class="modal-box">
    <div class="modal-handle"></div>
    <button class="modal-close" onclick="fecharModal('modal-sabores')">‚úï</button>
    <div class="modal-title" id="ms-titulo">Sabores Dispon√≠veis</div>
    <div class="modal-sub">Informe o sabor desejado ao fazer seu pedido na loja</div>
    <div class="chips" id="ms-chips"></div>
  </div>
</div>

<!-- MODAL COMPLEMENTOS A√áA√ç -->
<div class="modal-overlay" id="modal-comp">
  <div class="modal-box">
    <div class="modal-handle"></div>
    <button class="modal-close" onclick="fecharModal('modal-comp')">‚úï</button>
    <div class="modal-title">ü´ê Complementos do A√ßa√≠</div>
    <div class="modal-sub">Dispon√≠veis para o A√ßa√≠ Personalizado</div>
    <div id="comp-lista"></div>
  </div>
</div>

<!-- MODAL SABORES PICOL√â -->
<div class="modal-overlay" id="modal-picole">
  <div class="modal-box">
    <div class="modal-handle"></div>
    <button class="modal-close" onclick="fecharModal('modal-picole')">‚úï</button>
    <div class="modal-title" id="mp-titulo">Sabores do Picol√©</div>
    <div class="modal-sub" id="mp-sub"></div>
    <div class="chips" id="mp-chips"></div>
  </div>
</div>

<!-- MODAL PROMO√á√ÉO -->
<div class="promo-overlay" id="promo-overlay">
  <div class="promo-box">
    <button class="promo-close" onclick="fecharModal('promo-overlay')">‚úï</button>
    <div class="promo-icon" id="promo-icon">üéâ</div>
    <img id="promo-img" src="" alt="Promo√ß√£o" style="display:none;width:100%;border-radius:12px;margin-bottom:12px;max-height:200px;object-fit:cover">
    <div class="promo-title" id="promo-title">Promo√ß√£o Especial!</div>
    <div class="promo-desc" id="promo-desc">Confira nossas promo√ß√µes especiais de hoje. Aproveite enquanto durar!</div>
    <div class="promo-timer-box">
      <div class="promo-timer-lbl">Oferta v√°lida por:</div>
      <div class="promo-timer-val" id="promo-timer">00:00:00</div>
    </div>
    <button class="promo-btn" id="promo-btn" onclick="abrirLinkPromo()">üí¨ Falar com a Loja</button>
  </div>
</div>

<!-- CHATBOT -->
<button class="chat-fab" onclick="abrirChat()">üí¨ Fale Conosco</button>

<div class="chat-overlay" id="chat-overlay">
  <div class="chat-box">
    <div class="chat-hdr">
      <div><h3>üí¨ Fale Conosco</h3><p>Assistente Itapolitana ¬∑ Responde na hora</p></div>
      <button class="chat-close" onclick="fecharModal('chat-overlay')">‚úï</button>
    </div>
    <div class="chat-msgs" id="chat-msgs">
      <div class="msg bot">Ol√°! üëã Sou o assistente da Sorveteria Itapolitana. Como posso te ajudar?</div>
    </div>
    <div class="chat-typing" id="chat-typing">Digitando...</div>
    <div class="chat-sugs">
      <button class="sug" onclick="enviarSug(this)">Hor√°rio</button>
      <button class="sug" onclick="enviarSug(this)">Como encomendar</button>
      <button class="sug" onclick="enviarSug(this)">Sabores</button>
      <button class="sug" onclick="enviarSug(this)">Pre√ßos</button>
      <button class="sug" onclick="enviarSug(this)">Localiza√ß√£o</button>
      <button class="sug" onclick="enviarSug(this)">Picol√©s</button>
    </div>
    <div class="chat-inp-row">
      <input type="text" class="chat-inp" id="chat-inp" placeholder="Digite sua pergunta..." onkeydown="if(event.key==='Enter')enviarChat()">
      <button class="chat-send" onclick="enviarChat()">‚û§</button>
    </div>
  </div>
</div>

<!-- PWA BANNER -->
<div class="pwa-banner" id="pwa-banner">
  <div class="pwa-icon">üì≤</div>
  <div class="pwa-text"><h4>Instalar Aplicativo</h4><p>Adicione √† tela inicial para acesso r√°pido e promo√ß√µes!</p></div>
  <div class="pwa-btns">
    <button class="pwa-install" id="pwa-btn">Instalar Agora</button>
    <button class="pwa-dismiss" onclick="document.getElementById('pwa-banner').classList.remove('show')">Agora n√£o</button>
  </div>
</div>

<script src="scripts/products.js"></script>
<script>
// ‚îÄ‚îÄ ACCORDION ‚îÄ‚îÄ
function toggleAcc(id){document.getElementById(id).classList.toggle('open')}

// ‚îÄ‚îÄ MODAL HELPERS ‚îÄ‚îÄ
function fecharModal(id){document.getElementById(id).classList.remove('show')}
function abrirModal(id){document.getElementById(id).classList.add('show')}

// ‚îÄ‚îÄ RENDER SORVETES ‚îÄ‚îÄ (l√™ do products.js)
function renderSorvetes(){
  const g=document.getElementById('sorvetes-grid');
  const nomes={casquinha_copo:'Casquinha / Copo',copo_recheado:'Copo Recheado',cascao:'Casc√£o',cestinha:'Cestinha'};
  const desc={casquinha_copo:'1 bola',copo_recheado:'1 bola + recheio',cascao:'Casquinha grande',cestinha:'Cestinha crocante'};
  if(produtos&&produtos.sorvetes&&produtos.sorvetes.precos){
    Object.entries(produtos.sorvetes.precos).forEach(([key,precos])=>{
      const preco=Object.values(precos)[0];
      const c=document.createElement('div');c.className='prod-card';
      c.innerHTML=`<div class="prod-nome">${nomes[key]||key}</div><div class="prod-desc">${desc[key]||''}</div><div class="prod-preco">A partir de R$ ${preco.toFixed(2).replace('.',',')}</div>`;
      g.appendChild(c);
    });
  }
}

// ‚îÄ‚îÄ RENDER MILKSHAKE ‚îÄ‚îÄ (l√™ do products.js)
function renderMilk(){
  const g=document.getElementById('milk-grid');
  if(produtos&&produtos.milkshake){
    const m=produtos.milkshake;
    const tipos=[];
    if(m.tradicional) Object.entries(m.tradicional).forEach(([tam,preco])=>tipos.push({nome:`Milkshake Tradicional ${tam}`,preco}));
    if(m.top) Object.entries(m.top).forEach(([tam,preco])=>tipos.push({nome:`Milkshake Top ${tam}`,preco}));
    tipos.forEach(t=>{
      const c=document.createElement('div');c.className='prod-card';
      c.innerHTML=`<div class="prod-nome">${t.nome}</div><div class="prod-preco">R$ ${t.preco.toFixed(2).replace('.',',')}</div>`;
      g.appendChild(c);
    });
  }
}

// ‚îÄ‚îÄ RENDER TA√áAS ‚îÄ‚îÄ (l√™ do products.js)
function renderTacas(){
  const g=document.getElementById('tacas-grid');
  if(produtos&&produtos.tacas&&produtos.tacas.tradicionais){
    Object.entries(produtos.tacas.tradicionais).forEach(([nome,preco])=>{
      const c=document.createElement('div');c.className='prod-card';
      c.innerHTML=`<div class="prod-nome">Ta√ßa ${nome}</div><div class="prod-preco">R$ ${preco.toFixed(2).replace('.',',')}</div>`;
      g.appendChild(c);
    });
  }
}

// ‚îÄ‚îÄ RENDER TA√áAS PREMIUM ‚îÄ‚îÄ (l√™ do products.js)
function renderTacasP(){
  const g=document.getElementById('tacas-p-grid');
  if(produtos&&produtos.tacas&&produtos.tacas.sujas){
    Object.entries(produtos.tacas.sujas).forEach(([nome,preco])=>{
      const c=document.createElement('div');c.className='prod-card';
      c.innerHTML=`<div class="prod-nome">Ta√ßa Suja ‚Äì ${nome}</div><div class="prod-preco">R$ ${preco.toFixed(2).replace('.',',')}</div>`;
      g.appendChild(c);
    });
  }
}

// ‚îÄ‚îÄ RENDER A√áA√ç ‚îÄ‚îÄ (l√™ do products.js)
// ‚îÄ‚îÄ RENDER A√áA√ç PROMO√á√ÉO ‚îÄ‚îÄ (l√™ do products.js)
function renderAcaiPromo(){
  const b=document.getElementById('acai-promo-body');if(!b)return;b.innerHTML='';
  if(produtos&&produtos.acai_promocao){
    produtos.acai_promocao.forEach((p,i)=>{
      const d=document.createElement('div');d.className='acai-item';
      d.innerHTML=`<div class="acai-row"><span class="acai-nome">üõñ ${p.nome}</span><span class="acai-preco">R$ ${p.preco.toFixed(2).replace('.',',')}</span></div><div class="acai-desc">${p.desc}</div>`;
      b.appendChild(d);
    });
  }
}
function renderAcai(){
  const b=document.getElementById('acai-body');b.innerHTML='';
  if(produtos&&produtos.acai&&produtos.acai.copos){
    Object.entries(produtos.acai.copos).forEach(([tam,preco])=>{
      const d=document.createElement('div');d.className='acai-item';
      d.innerHTML=`<div class="acai-row"><span class="acai-nome">ü´ê Monte o Seu ${tam}</span><span class="acai-preco">R$ ${preco.toFixed(2).replace('.',',')}</span></div><div class="acai-desc">Todos ingredientes extras</div><button class="btn-comp" onclick="abrirComplementos()">üçì Ver Ingredientes Dispon√≠veis</button>`;
      b.appendChild(d);
    });
  }
}

// ‚îÄ‚îÄ RENDER PICOL√âS ‚îÄ‚îÄ (l√™ do products.js)
const iconesPicole={frutas_agua:'üçâ',leite_sem_recheio:'üç¶',leite_com_recheio:'üç´',leite_ninho:'‚≠ê',eskimos:'üç¨'};
function renderPicoles(){
  const b=document.getElementById('picoles-body');b.innerHTML='';
  if(produtos&&produtos.picoles){
    Object.entries(produtos.picoles).forEach(([key,p])=>{
      const d=document.createElement('div');d.className='picole-item';
      const icon=iconesPicole[key]||'üç≠';
      d.innerHTML=`<div class="picole-row"><span class="picole-nome">${icon} ${p.nome}</span><span class="picole-preco">R$ ${p.preco_varejo.toFixed(2).replace('.',',')}</span></div><button class="btn-sabores" onclick="abrirPicole('${key}','${p.nome}')">üç≠ Ver Sabores Dispon√≠veis</button>`;
      b.appendChild(d);
    });
  }
}

// ‚îÄ‚îÄ RENDER ISOPORES DE VIAGEM ‚îÄ‚îÄ (l√™ do products.js)
function renderIso(){
  const b=document.getElementById('iso-body');if(!b)return;b.innerHTML='';
  if(produtos&&produtos.isopores_viagem){
    const grid=document.createElement('div');grid.className='prod-grid';
    Object.entries(produtos.isopores_viagem).forEach(([tam,preco])=>{
      const d=document.createElement('div');d.className='prod-card';
      d.innerHTML=`<div class="prod-nome">üßä Isopore ${tam}</div><div class="prod-desc">Leve sorvete para casa</div><div class="prod-preco">R$ ${preco.toFixed(2).replace('.',',')}</div>`;
      grid.appendChild(d);
    });
    b.appendChild(grid);
    const btn=document.createElement('div');btn.style='margin-top:12px';
    btn.innerHTML=`<button class="btn-sabores" onclick="abrirSabores('sorvetes','üßä Sabores para Isopore')">üç® Ver os 36 Sabores</button>`;
    b.appendChild(btn);
  }
}
// ‚îÄ‚îÄ RENDER SOBREMESAS GELADAS ‚îÄ‚îÄ (l√™ do products.js)
function renderSobremesas(){
  const b=document.getElementById('sobremesas-body');if(!b)return;b.innerHTML='';
  if(produtos&&produtos.sobremesas){
    const grid=document.createElement('div');grid.className='prod-grid';
    Object.entries(produtos.sobremesas).forEach(([nome,preco])=>{
      const d=document.createElement('div');d.className='prod-card';
      d.innerHTML=`<div class="prod-nome">üç® ${nome}</div><div class="prod-preco">R$ ${preco.toFixed(2).replace('.',',')}</div>`;
      grid.appendChild(d);
    });
    b.appendChild(grid);
    const btn=document.createElement('div');btn.style='margin-top:12px';
    btn.innerHTML=`<button class="btn-sabores" onclick="abrirSabores('sorvetes','üç® Sabores para Sobremesas')">üç® Ver os 36 Sabores</button>`;
    b.appendChild(btn);
  }
}
// ‚îÄ‚îÄ ABRIR MODAL SABORES ‚îÄ‚îÄ
function abrirSabores(tipo,titulo){
  document.getElementById('ms-titulo').textContent=titulo;
  const chips=document.getElementById('ms-chips');chips.innerHTML='';
  const sabores=produtos&&produtos.sorvetes&&produtos.sorvetes.sabores?produtos.sorvetes.sabores:[];
  sabores.forEach(s=>{const sp=document.createElement('span');sp.className='chip-sabor';sp.textContent=s;chips.appendChild(sp);});
  abrirModal('modal-sabores');
}

// ‚îÄ‚îÄ ABRIR MODAL PICOL√â ‚îÄ‚îÄ
function abrirPicole(key,nome){
  document.getElementById('mp-titulo').textContent=`üç≠ Sabores ‚Äì ${nome}`;
  document.getElementById('mp-sub').textContent='Sabores dispon√≠veis para este tipo de picol√©';
  const chips=document.getElementById('mp-chips');chips.innerHTML='';
  const sabs=produtos&&produtos.picoles&&produtos.picoles[key]?produtos.picoles[key].sabores:[];
  sabs.forEach(s=>{const sp=document.createElement('span');sp.className='chip-sabor';sp.textContent=s;chips.appendChild(sp);});
  abrirModal('modal-picole');
}

// ‚îÄ‚îÄ ABRIR COMPLEMENTOS A√áA√ç ‚îÄ‚îÄ (l√™ do products.js)
const labelComp={frutas:'üçì Frutas',cremes:'üçØ Cremes',guloseimas:'üç¨ Guloseimas',chocolates:'üç´ Chocolates'};
function abrirComplementos(){
  const lista=document.getElementById('comp-lista');lista.innerHTML='';
  if(produtos&&produtos.acai&&produtos.acai.complementos){
    Object.entries(produtos.acai.complementos).forEach(([k,info])=>{
      const g=document.createElement('div');g.className='comp-group';
      g.innerHTML=`<div class="comp-group-h">${labelComp[k]||k}<span class="comp-preco">+ R$ ${info.preco.toFixed(2).replace('.',',')} cada</span></div><div class="chips">${info.itens.map(i=>`<span class="chip-comp">${i}</span>`).join('')}</div>`;
      lista.appendChild(g);
    });
  }
  abrirModal('modal-comp');
}

// ‚îÄ‚îÄ PROMO√á√ÉO ‚îÄ‚îÄ
let promoInt=null;
// ‚îÄ‚îÄ PROMO√á√ÉO DIN√ÇMICA ‚îÄ‚îÄ
function carregarPromo(){
  const d=JSON.parse(localStorage.getItem('itap_promo')||'{}');
  if(d.titulo){document.getElementById('promo-title').textContent=d.titulo;}
  if(d.descricao){document.getElementById('promo-desc').textContent=d.descricao;}
  if(d.imagem){
    const img=document.getElementById('promo-img');
    img.src=d.imagem;img.style.display='block';
    document.getElementById('promo-icon').style.display='none';
  }
  if(d.link){
    const btn=document.getElementById('promo-btn');
    btn.textContent=d.btnTexto||'üîó Ver Promo√ß√£o';
  }
}
function abrirLinkPromo(){
  const d=JSON.parse(localStorage.getItem('itap_promo')||'{}');
  const url=d.link||'https://wa.me/5516991472045';
  window.open(url,'_blank');
}
function abrirPromo(){carregarPromo();abrirModal('promo-overlay');iniciarTimer();}
function iniciarTimer(){
  const fim=new Date();fim.setHours(22,0,0,0);
  if(fim<new Date())fim.setDate(fim.getDate()+1);
  if(promoInt)clearInterval(promoInt);
  promoInt=setInterval(()=>{
    const d=fim-new Date();if(d<=0){clearInterval(promoInt);return;}
    const h=String(Math.floor(d/3600000)).padStart(2,'0');
    const m=String(Math.floor((d%3600000)/60000)).padStart(2,'0');
    const s=String(Math.floor((d%60000)/1000)).padStart(2,'0');
    document.getElementById('promo-timer').textContent=`${h}:${m}:${s}`;
  },1000);
}

// ‚îÄ‚îÄ CHATBOT ‚îÄ‚îÄ
const RESPOSTAS={
  'hor√°rio':'Funcionamos de Segunda a Domingo, das 10h √†s 22h. üïô',
  'funciona':'Funcionamos de Segunda a Domingo, das 10h √†s 22h. üïô',
  'aberto':'Funcionamos de Segunda a Domingo, das 10h √†s 22h. üïô',
  'endere√ßo':'Estamos na P√ßa Lgo S√£o Bento, 311 ‚Äì Centro, Cajuru/SP. üìç',
  'localiza√ß√£o':'Estamos na P√ßa Lgo S√£o Bento, 311 ‚Äì Centro, Cajuru/SP. üìç',
  'onde':'Estamos na P√ßa Lgo S√£o Bento, 311 ‚Äì Centro, Cajuru/SP. üìç',
  'encomendar':'Para encomendas, clique em üõí Encomendas no topo! Trabalhamos com Sorvete em Caixa, Torta de Sorvete e Picol√©s no atacado. Prazo: 3 dias √∫teis ap√≥s pagamento. üì¶',
  'encomenda':'Para encomendas, clique em üõí Encomendas no topo! Trabalhamos com Sorvete em Caixa, Torta de Sorvete e Picol√©s no atacado. Prazo: 3 dias √∫teis ap√≥s pagamento. üì¶',
  'sabor':'Temos 36 sabores de sorvete! Chocolate, Nutella, Leite Ninho, Morango Trufado, Ferrero Rocher, Pistache e muito mais. Veja no card√°pio! üç¶',
  'sabores':'Temos 36 sabores de sorvete! Chocolate, Nutella, Leite Ninho, Morango Trufado, Ferrero Rocher, Pistache e muito mais. Veja no card√°pio! üç¶',
  'pre√ßo':()=>`Sorvetes a partir de R$ ${Object.values(produtos.sorvetes.precos.casquinha_copo)[0].toFixed(2).replace('.',',')} ¬∑ Milkshakes a partir de R$ ${Object.values(produtos.milkshake.tradicional)[0].toFixed(2).replace('.',',')} ¬∑ A√ßa√≠ a partir de R$ ${Object.values(produtos.acai.copos)[0].toFixed(2).replace('.',',')}. üí∞`,
  'preco':()=>`Sorvetes a partir de R$ ${Object.values(produtos.sorvetes.precos.casquinha_copo)[0].toFixed(2).replace('.',',')} ¬∑ Milkshakes a partir de R$ ${Object.values(produtos.milkshake.tradicional)[0].toFixed(2).replace('.',',')} ¬∑ A√ßa√≠ a partir de R$ ${Object.values(produtos.acai.copos)[0].toFixed(2).replace('.',',')}. üí∞`,
  'pre√ßos':()=>`Sorvetes a partir de R$ ${Object.values(produtos.sorvetes.precos.casquinha_copo)[0].toFixed(2).replace('.',',')} ¬∑ Milkshakes a partir de R$ ${Object.values(produtos.milkshake.tradicional)[0].toFixed(2).replace('.',',')} ¬∑ A√ßa√≠ a partir de R$ ${Object.values(produtos.acai.copos)[0].toFixed(2).replace('.',',')}. üí∞`,
  'a√ßa√≠':()=>`A√ßa√≠ artesanal em ${Object.entries(produtos.acai.copos).map(([t,p])=>`${t} (R$ ${p.toFixed(0)})`).join(', ')}. Personalize com frutas, cremes e chocolates! ü´ê`,
  'acai':()=>`A√ßa√≠ artesanal em ${Object.entries(produtos.acai.copos).map(([t,p])=>`${t} (R$ ${p.toFixed(0)})`).join(', ')}. Personalize com frutas, cremes e chocolates! ü´ê`,
  'picol√©':()=>`${Object.values(produtos.picoles).map(p=>`${p.nome} (R$ ${p.preco_varejo.toFixed(2).replace('.',',')})`).join(' ¬∑ ')}. Atacado via encomenda! üç≠`,
  'picole':()=>`${Object.values(produtos.picoles).map(p=>`${p.nome} (R$ ${p.preco_varejo.toFixed(2).replace('.',',')})`).join(' ¬∑ ')}. Atacado via encomenda! üç≠`,
  'picol√©s':()=>`${Object.values(produtos.picoles).map(p=>`${p.nome} (R$ ${p.preco_varejo.toFixed(2).replace('.',',')})`).join(' ¬∑ ')}. Atacado via encomenda! üç≠`,
  'delivery':'N√£o fazemos delivery. Retirada somente na loja: P√ßa Lgo S√£o Bento, 311 ‚Äì Cajuru/SP. üè™',
  'entrega':'Para encomendas, prazo de 3 dias √∫teis ap√≥s pagamento. Retirada na loja. üì¶',
  'telefone':'WhatsApp: (16) 99147-2045 üì±',
  'whatsapp':'WhatsApp: (16) 99147-2045 üì±',
  'contato':'WhatsApp: (16) 99147-2045 üì±',
  'torta':()=>`Torta de Sorvete R$ ${produtos.sobremesas['Torta de Sorvete'].toFixed(2).replace('.',',')} com 3 sabores √† escolha. Encomende com 3 dias de anteced√™ncia! üéÇ`,
  'caixa':()=>`Caixas de 5L (a partir de R$ ${Math.min(...Object.values(produtos.caixas_viagem).filter((_,i,a)=>i<2)).toFixed(0)}) e 10L (a partir de R$ ${Math.min(...Object.values(produtos.caixas_viagem).filter((_,i,a)=>i>=2)).toFixed(0)}) com 2 ou 3 sabores. Fa√ßa sua encomenda! üç¶`,
  'cajuru':'Estamos em Cajuru/SP desde 2007! Atendemos tamb√©m Santa Cruz da Esperan√ßa e C√°ssia dos Coqueiros. üìç',
  'default':'Posso te ajudar com: hor√°rios, endere√ßo, pre√ßos, sabores, encomendas ou picol√©s. O que deseja saber? üòä'
};

function abrirChat(){abrirModal('chat-overlay');}
function enviarSug(btn){document.getElementById('chat-inp').value=btn.textContent;enviarChat();}
function enviarChat(){
  const inp=document.getElementById('chat-inp');
  const msg=inp.value.trim();if(!msg)return;
  inp.value='';
  addMsg('user',msg);
  const t=document.getElementById('chat-typing');t.classList.add('show');
  setTimeout(()=>{t.classList.remove('show');addMsg('bot',getResp(msg));},700+Math.random()*500);
}
function addMsg(tipo,txt){
  const m=document.getElementById('chat-msgs');
  const d=document.createElement('div');d.className=`msg ${tipo}`;d.textContent=txt;
  m.appendChild(d);m.scrollTop=m.scrollHeight;
}
function getResp(msg){
  const l=msg.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'');
  for(const[k,r]of Object.entries(RESPOSTAS)){
    if(k!=='default'&&l.includes(k)){
      return typeof r==='function'?r():r;
    }
  }
  const d=RESPOSTAS.default;
  return typeof d==='function'?d():d;
}

// ‚îÄ‚îÄ PWA ‚îÄ‚îÄ
let deferredPrompt=null;
window.addEventListener('beforeinstallprompt',e=>{
  e.preventDefault();deferredPrompt=e;
  setTimeout(()=>document.getElementById('pwa-banner').classList.add('show'),3000);
});
document.getElementById('pwa-btn').addEventListener('click',async()=>{
  if(deferredPrompt){deferredPrompt.prompt();await deferredPrompt.userChoice;deferredPrompt=null;document.getElementById('pwa-banner').classList.remove('show');}
});

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
document.addEventListener('DOMContentLoaded',()=>{
  renderSorvetes();renderMilk();renderTacas();renderTacasP();renderAcaiPromo();renderAcai();renderPicoles();renderIso();renderSobremesas();
  // Todos os accordions fechados por padr√£o
  // Atualizar pre√ßo da torta do products.js
  const tp=document.getElementById('torta-preco');
  if(tp&&produtos&&produtos.sobremesas)tp.textContent='R$ '+produtos.sobremesas['Torta de Sorvete'].toFixed(2).replace('.',',');
  // Corrigir chatbot: resolver fun√ß√µes
  Object.keys(respostas).forEach(k=>{if(typeof respostas[k]==='function')respostas[k]=respostas[k]();});
});
</script>
</body>
</html>
